# Firestore DB æ‰‹å‹•ç¢ºèªã‚¬ã‚¤ãƒ‰

Firestoreã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰‹å‹•ã§ç¢ºèªã™ã‚‹3ã¤ã®æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

---

## ðŸŒ æ–¹æ³•1: Firebase Consoleï¼ˆGUIï¼‰

### æœ€ã‚‚ç°¡å˜ãªæ–¹æ³•

1. **Firebase Consoleã«ã‚¢ã‚¯ã‚»ã‚¹**
   ```
   https://console.firebase.google.com/
   ```

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠž**
   - `albert-ma`ï¼ˆã¾ãŸã¯è©²å½“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼‰

3. **Firestoreã‚’é–‹ã**
   - å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ `Firestore Database`

4. **companies_new ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º**
   - `companies_new` ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã¾ã™

### ã§ãã‚‹ã“ã¨

âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®é–²è¦§  
âœ… ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ç¢ºèª  
âœ… å€‹åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç·¨é›†  
âœ… ã‚¯ã‚¨ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®å®Ÿè¡Œ  
âœ… ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèª  

### æ¤œç´¢æ–¹æ³•

```
1. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’é¸æŠžï¼ˆä¾‹: name, corporateNumberï¼‰
3. æ¼”ç®—å­ã‚’é¸æŠžï¼ˆ==, >, < ãªã©ï¼‰
4. å€¤ã‚’å…¥åŠ›
5. ã€Œãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é©ç”¨ã€
```

**ä¾‹: ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾ã‚’æ¤œç´¢**
```
ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: name
æ¼”ç®—å­: ==
å€¤: ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾
```

---

## ðŸ’» æ–¹æ³•2: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–DBãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ï¼ˆæŽ¨å¥¨ï¼‰

### èµ·å‹•æ–¹æ³•

```bash
cd /Users/harumacmini/Downloads/road_companiesInfo

GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/db_browser.ts
```

### ãƒ¡ãƒ‹ãƒ¥ãƒ¼

```
========================================
ðŸ” Firestore DBãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼
========================================
1. ä¼æ¥­åã§æ¤œç´¢
2. æ³•äººç•ªå·ã§æ¤œç´¢
3. éƒ½é“åºœçœŒã§æ¤œç´¢
4. æœ€æ–°Nä»¶ã‚’è¡¨ç¤º
5. ãƒ©ãƒ³ãƒ€ãƒ Nä»¶ã‚’è¡¨ç¤º
6. çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º
7. ç‰¹å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å……è¶³çŽ‡ç¢ºèª
0. çµ‚äº†
========================================
```

### ä½¿ç”¨ä¾‹

#### ä¼æ¥­åã§æ¤œç´¢
```
é¸æŠžã—ã¦ãã ã•ã„: 1
ä¼æ¥­åã‚’å…¥åŠ›: ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾

ðŸ” "ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾" ã§æ¤œç´¢ä¸­...

âœ… 1ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸ

1. docId: 9180000000000
   ä¼æ¥­å: ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾
   æ³•äººç•ªå·: 9180000000000
   ä½æ‰€: æ„›çŸ¥çœŒåå¤å±‹å¸‚è¥¿åŒºæœ¨å‰ç”ºï¼™ï¼˜
   ...
```

#### çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º
```
é¸æŠžã—ã¦ãã ã•ã„: 6

ðŸ” çµ±è¨ˆæƒ…å ±ã‚’å–å¾—ä¸­...

ðŸ“Š çµ±è¨ˆæƒ…å ±:
  ç·ä¼æ¥­æ•°: 123,456ä»¶

  ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å……è¶³çŽ‡ï¼ˆã‚µãƒ³ãƒ—ãƒ«100ä»¶ï¼‰:
    name                : 100%
    corporateNumber     : 95%
    address             : 98%
    phoneNumber         : 85%
    companyUrl          : 60%
    ...
```

---

## âš¡ æ–¹æ³•3: ã‚¯ã‚¤ãƒƒã‚¯ã‚¯ã‚¨ãƒªï¼ˆã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰

### ç°¡å˜ãªã‚¯ã‚¨ãƒªã‚’å³åº§ã«å®Ÿè¡Œ

#### ä¼æ¥­åã§æ¤œç´¢
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts name "ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾"
```

#### æ³•äººç•ªå·ã§æ¤œç´¢
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts corp 1234567890123
```

#### éƒ½é“åºœçœŒã§æ¤œç´¢ï¼ˆæœ€åˆã®10ä»¶ï¼‰
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts pref æ±äº¬éƒ½
```

#### docIdã§å–å¾—
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts id 1234567890123
```

#### ç·ä»¶æ•°ã‚’è¡¨ç¤º
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts count
```

#### ãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤º
```bash
GOOGLE_APPLICATION_CREDENTIALS=./albert-ma-firebase-adminsdk-iat1k-a64039899f.json \
npx ts-node scripts/quick_query.ts random 5
```

---

## ðŸ” ã‚ˆãã‚ã‚‹ç¢ºèªã‚¿ã‚¹ã‚¯

### 1. ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾ã®çµ±åˆç¢ºèª

**Firebase Console:**
```
1. companies_new ã‚’é–‹ã
2. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: name == ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾
3. çµæžœã‚’ç¢ºèªï¼ˆ1ä»¶ã§ã‚ã‚Œã°OKï¼‰
```

**DBãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼:**
```bash
npx ts-node scripts/db_browser.ts
â†’ 1ã‚’é¸æŠž
â†’ ã€Œä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾ã€ã¨å…¥åŠ›
```

**ã‚¯ã‚¤ãƒƒã‚¯ã‚¯ã‚¨ãƒª:**
```bash
npx ts-node scripts/quick_query.ts name "ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾"
```

---

### 2. ç‰¹å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å……è¶³çŽ‡ç¢ºèª

**DBãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼:**
```bash
npx ts-node scripts/db_browser.ts
â†’ 7ã‚’é¸æŠž
â†’ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’å…¥åŠ›ï¼ˆä¾‹: businessDescriptionsï¼‰
â†’ ã‚µãƒ³ãƒ—ãƒ«ä»¶æ•°ã‚’å…¥åŠ›ï¼ˆä¾‹: 100ï¼‰
```

**çµæžœä¾‹:**
```
ðŸ“Š çµæžœ:
  å……è¶³çŽ‡: 85% (85/100)
  ç©º: 15ä»¶

  ã‚µãƒ³ãƒ—ãƒ«å€¤ï¼ˆæœ€åˆã®5ä»¶ï¼‰:
    1. æ ªå¼ä¼šç¤¾ã€‡ã€‡: "è£½é€ æ¥­ã€å¸å£²æ¥­..."
    2. æ ªå¼ä¼šç¤¾â–³â–³: "å»ºè¨­æ¥­ã€ä¸å‹•ç”£æ¥­..."
    ...
```

---

### 3. é‡è¤‡ä¼æ¥­ã®ç¢ºèª

**ã‚¯ã‚¤ãƒƒã‚¯ã‚¯ã‚¨ãƒª:**
```bash
# åŒåä¼æ¥­ã‚’æ¤œç´¢
npx ts-node scripts/quick_query.ts name "æ ªå¼ä¼šç¤¾å¯Œå£«å·¥æ¥­"
```

çµæžœãŒè¤‡æ•°ä»¶è¡¨ç¤ºã•ã‚Œã‚‹å ´åˆ:
- docIdãŒç•°ãªã‚‹ã‹ç¢ºèª
- ä½æ‰€ãŒç•°ãªã‚‹ã‹ç¢ºèªï¼ˆåˆ¥ä¼šç¤¾ã®å¯èƒ½æ€§ï¼‰
- æ³•äººç•ªå·ãŒç•°ãªã‚‹ã‹ç¢ºèª

---

### 4. ãƒ©ãƒ³ãƒ€ãƒ ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°

ãƒ‡ãƒ¼ã‚¿ã®å“è³ªã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã€ãƒ©ãƒ³ãƒ€ãƒ ã«æ•°ç¤¾ã‚’ç¢ºèªï¼š

```bash
npx ts-node scripts/quick_query.ts random 10
```

ç¢ºèªãƒã‚¤ãƒ³ãƒˆ:
- âœ… ä¼æ¥­åãŒæ­£ã—ãå…¥ã£ã¦ã„ã‚‹ã‹
- âœ… ä½æ‰€ãŒæ­£ã—ãå…¥ã£ã¦ã„ã‚‹ã‹
- âœ… æ³•äººç•ªå·ãŒãƒ€ãƒŸãƒ¼ï¼ˆæœ«å°¾9æ¡ãŒ0ï¼‰ã§ãªã„ã‹
- âœ… ä¸»è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç©ºã§ãªã„ã‹

---

## ðŸ“Š ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- [ ] `name` (ä¼æ¥­å): 100%å¿…é ˆ
- [ ] `corporateNumber` (æ³•äººç•ªå·): 90%ä»¥ä¸Š
- [ ] `address` (ä½æ‰€): 95%ä»¥ä¸Š

### é‡è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- [ ] `phoneNumber` (é›»è©±ç•ªå·): 80%ä»¥ä¸Š
- [ ] `companyUrl` (URL): 50%ä»¥ä¸Š
- [ ] `industry` (æ¥­ç¨®): 70%ä»¥ä¸Š
- [ ] `representativeName` (ä»£è¡¨è€…å): 60%ä»¥ä¸Š

### ã‚¿ã‚¤ãƒ—å›ºæœ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- [ ] ã‚¿ã‚¤ãƒ—A: `businessDescriptions` (å–¶æ¥­ç¨®ç›®)
- [ ] ã‚¿ã‚¤ãƒ—H: `executiveName1`, `executiveTitle1` (å½¹å“¡æƒ…å ±)
- [ ] ã‚¿ã‚¤ãƒ—G: `banks` (éŠ€è¡Œæƒ…å ±)
- [ ] ã‚¿ã‚¤ãƒ—J: `departmentName1` (éƒ¨ç½²æƒ…å ±)

---

## ðŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Firebase Consoleã§ã‚¯ã‚¨ãƒªãŒé…ã„

â†’ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã¦ãã ã•ã„
```
Firestore Console â†’ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ â†’ è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆ
```

### npmæ¨©é™ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

â†’ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ç›´æŽ¥å®Ÿè¡Œã—ã¦ãã ã•ã„

### ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„

1. ä¼æ¥­åã®ã‚¹ãƒšãƒ¼ã‚¹ãƒ»å…¨è§’åŠè§’ã‚’ç¢ºèª
2. æ³•äººç•ªå·ãŒ13æ¡ã‹ç¢ºèª
3. ãƒãƒƒã‚¯ãƒ•ã‚£ãƒ«ãŒå®Œäº†ã—ã¦ã„ã‚‹ã‹ç¢ºèª

---

## ðŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `VERIFICATION_GUIDE.md`: CSVå–ã‚Šè¾¼ã¿ç¢ºèªã‚¬ã‚¤ãƒ‰
- `scripts/verify_csv_import_by_type.ts`: ã‚¿ã‚¤ãƒ—åˆ¥ç¢ºèª
- `scripts/check_niwa_kogyo.ts`: ä¸¹ç¾½èˆˆæ¥­æ ªå¼ä¼šç¤¾ã®çµ±åˆç¢ºèª

