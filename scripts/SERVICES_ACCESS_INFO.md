# 各サービスのアクセス方法と取得手順

## 📋 現在の実装状況

現在のスクリプトは、**ログインなしで検索URLに直接アクセス**する方法で実装されています。

## 🔍 各サービスのアクセス方法

### 1. 企業INDEXナビ (`cnavi-app.g-search.or.jp`)

**現在の実装:**
- 検索URL: `https://cnavi-app.g-search.or.jp/search?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 会員登録が必要な可能性あり
- 検索結果ページから詳細ページURLを抽出

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出
4. 詳細ページから情報を抽出

---

### 2. バフェットコード (`buffett-code.com`)

**現在の実装:**
- 検索URL: `https://www.buffett-code.com/global_screening?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 有料サービス（ログインが必要な可能性）
- 検索結果ページから詳細ページURLを抽出

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出
4. 詳細ページから情報を抽出

---

### 3. マイナビ転職 (`tenshoku.mynavi.jp`)

**現在の実装:**
- 検索URL: `https://tenshoku.mynavi.jp/company/search?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 一般公開されている検索機能
- 検索結果ページから詳細ページURLを抽出

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出（`/company/`を含むURL）
4. 詳細ページから情報を抽出（テーブル構造から抽出）

---

### 4. マイナビ2026 (`job.mynavi.jp`)

**現在の実装:**
- 検索URL: `https://job.mynavi.jp/26/pc/search/corp.html?tab=corp&q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 一般公開されている検索機能
- 検索結果ページから詳細ページURLを抽出

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出
4. 詳細ページから情報を抽出

---

### 5. 全国法人リスト (`houjin.jp`)

**現在の実装:**
- 検索URL: `https://houjin.jp/search?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 一般公開されている検索機能
- 検索結果ページから詳細ページURLを抽出

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出
4. 詳細ページから情報を抽出（テーブル構造から抽出）

---

### 6. 官報決算データベース (`catr.jp`)

**現在の実装:**
- 検索URL: `https://catr.jp/s/?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 一般公開されている検索機能
- 決算公告情報を検索

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 決算公告詳細ページのリンクを抽出（`/detail/`, `/kessan/`, `/announcement/`を含むURL）
4. 詳細ページから財務情報を抽出

---

### 7. Alarmbox (`alarmbox.jp`)

**現在の実装:**
- 検索URL: `https://alarmbox.jp/companyinfo/?q={会社名}`
- ログイン: なし（検索結果ページに直接アクセス）

**実際のサービス:**
- 一般公開されている検索機能
- 企業情報を検索

**取得方法:**
1. 検索URLにアクセス
2. 検索結果ページのHTMLを解析
3. 企業詳細ページのリンクを抽出（`/companyinfo/`, `/company/`, `/detail/`を含むURL）
4. 詳細ページから情報を抽出

---

## ⚠️ 注意事項

### ログインが必要なサービスの場合

以下のサービスは有料サービスまたはログインが必要な可能性があります：
- **企業INDEXナビ**: 会員登録が必要な可能性
- **バフェットコード**: 有料サービスの可能性

これらのサービスでログインが必要な場合、現在の実装では情報を取得できない可能性があります。

### 対応方法

1. **ログイン処理の実装**: ログインが必要なサービスの場合、ログイン処理を追加
2. **認証情報の管理**: 環境変数で認証情報を管理
3. **セッション管理**: ログイン後のセッションを維持

---

## 🔧 現在の実装の動作

現在のスクリプトは以下の流れで動作しています：

1. **検索URLの生成**: 会社名または法人番号で検索URLを生成
2. **検索結果ページへのアクセス**: ログインなしで検索結果ページにアクセス
3. **詳細ページURLの抽出**: 検索結果ページのHTMLから企業詳細ページのリンクを抽出
4. **詳細ページからの情報抽出**: 抽出された詳細ページから必要な情報を抽出

この方法で取得できない場合は、ログイン処理の追加が必要です。

